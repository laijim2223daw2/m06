<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html lang="ca">
	<head>
		<meta http-equiv="content-type" content="text/html; charset=UTF-8">
		<title>Càlcul de temperatures mitjanes</title>
	</head>
	<body style="background-color: rgb(255, 59, 131);">  
		<div id="container" style="justify-content: center; margin: auto; background-color: white; padding-bottom: 20px;width: 40%; text-align: center; border: 2px solid black;"> 
		<p style="color: rgb(255, 59, 131); font-size: 18px;"><b><u>APLICACIÓ PEL CÀLCUL DE TEMPERATURES MITJANES</u></b></p>
		<b>a) Introudeix les dades de temperatura en ºC:<br></b>
		<table style="margin: auto; margin-top: 10px;">
			<tbody>
				<tr>
					<td>Mostra de Temperatura 1:</td>
					<td><input type="text" name="temp[]" size="5" maxlength="6" value=0></td>
					<td>Mostra de Temperatura 2:</td>
					<td><input type="text" name="temp[]" size="5" maxlength="6" value=0></td>
				</tr>
				 <tr>
					<td>Mostra de Temperatura 3:</td>
					<td><input type="text" name="temp[]" size="5" maxlength="6" value=0></td>
					<td>Mostra de Temperatura 4:</td>
					<td><input type="text" name="temp[]" size="5" maxlength="6" value=0></td>
				 </tr>
				 <tr>
					<td>Mostra de Temperatura 5:</td>
					<td><input type="text" name="temp[]" size="5" maxlength="6" value=0></td>
					<td>Mostra de Temperatura 6:</td>
					<td><input type="text" name="temp[]" size="5" maxlength="6" value=0></td>
				 </tr>
				 <tr>
					<td>Mostra de Temperatura 7:</td>
					<td><input type="text" name="temp[]" size="5" maxlength="6" value=0></td>
					<td>Mostra de Temperatura 8:</td>
					<td><input type="text" name="temp[]" size="5" maxlength="6" value=0></td>
				 </tr>
			</tbody>
		</table>	
		<br>
        <b>b) Escull les unitats de temperatura del resultat:</b><br>
        <input name="ut[]" value="celsius" type="checkbox" checked>Graus Celsius (ºC)<br>
        <input name="ut[]" value="fahrenheit" type="checkbox">Graus Fahrenheit (ºF)<br>
        <input name="ut[]" value="kelvins" type="checkbox">Kelvins (K)<br>
        <br>        
        <button onclick='fCalcula()'>Calcular mitjanes</button>
		<button onclick='fNeteja()'>Netejar dades</button>
		<p><b>RESULTATS:</b></p>
		<p id="resultats"></p>
		<button onclick='fReinicia()'>Netejar resultats</button>
		<button onclick='fNetejaReinicia()'>Reiniciar resultats i dades</button>
		</div> 
		<script>

			const inputs = document.getElementsByName('temp[]');
			const checkbox = document.getElementsByName('ut[]');

			function fCalcula() {	
				
				let total = 0;
				for (let i = 0; i < inputs.length; i++) {
					total += parseInt(inputs[i].value);
				}
				
				total /= inputs.length;					
				
				let html = "";
				
				for (let j = 0; j < checkbox.length; j++) {
					
					if (checkbox[j].checked){
						const tipoValor = checkbox[j].value;

						switch (tipoValor){
							case 'celsius':
								html += `<b>Celsius:</b> ${total.toFixed(1)}<br>`;
								break;

							case 'fahrenheit':
								const fahrenheit = ((9 * total) / 5) + 32;
								html += `<b>fahrenheit:</b> ${fahrenheit.toFixed(1)}<br>`;
								break;
							
							case 'kelvins':
								const kelvins = 273 + total;
								html += `<b>kelvins:</b> ${kelvins.toFixed(1)}<br>`;
								break;
						}
					}
					
				}

				document.getElementById('resultats').innerHTML = html;
			}
			
			function fNeteja() {
				for (let i = 0; i < inputs.length; i++) {
					inputs[i].value = 0;					
				}									 
			}
			
			function fReinicia() {
				document.getElementById('resultats').innerHTML = "";
			}

			function fNetejaReinicia() {
					fNeteja();
					fReinicia();			
			}
		</script>   
	</body>
</html>
